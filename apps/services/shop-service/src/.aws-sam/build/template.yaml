AWSTemplateFormatVersion: '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Description: An AWS Serverless Application. This template is partially managed by
  Amazon.Lambda.Annotations (v1.7.0.0).
Resources:
  shopserviceApiEndpointsCreateShopGenerated:
    Type: AWS::Serverless::Function
    Metadata:
      SamResourceId: shopserviceApiEndpointsCreateShopGenerated
      SyncedEventProperties:
        RootPost:
        - Path
        - Method
      SyncedEvents:
      - RootPost
      Tool: Amazon.Lambda.Annotations
    Properties:
      Runtime: dotnet8
      CodeUri: shopserviceApiEndpointsCreateShopGenerated
      MemorySize: 512
      Timeout: 120
      Policies:
      - AWSLambdaBasicExecutionRole
      PackageType: Zip
      Handler: shop-service::shop_service.ApiEndpoints_CreateShop_Generated::CreateShop
      Events:
        RootPost:
          Type: HttpApi
          Properties:
            Path: /shops
            Method: POST
  shopserviceApiEndpointsGetShopsGenerated:
    Type: AWS::Serverless::Function
    Metadata:
      SamResourceId: shopserviceApiEndpointsGetShopsGenerated
      SyncedEventProperties:
        RootGet:
        - Path
        - Method
      SyncedEvents:
      - RootGet
      Tool: Amazon.Lambda.Annotations
    Properties:
      Runtime: dotnet8
      CodeUri: shopserviceApiEndpointsGetShopsGenerated
      MemorySize: 512
      Timeout: 120
      Policies:
      - AWSLambdaBasicExecutionRole
      PackageType: Zip
      Handler: shop-service::shop_service.ApiEndpoints_GetShops_Generated::GetShops
      Events:
        RootGet:
          Type: HttpApi
          Properties:
            Path: /shops
            Method: GET
  shopserviceApiEndpointsGetShopMemberGenerated:
    Type: AWS::Serverless::Function
    Metadata:
      SamResourceId: shopserviceApiEndpointsGetShopMemberGenerated
      SyncedEventProperties:
        RootGet:
        - Path
        - Method
      SyncedEvents:
      - RootGet
      Tool: Amazon.Lambda.Annotations
    Properties:
      Runtime: dotnet8
      CodeUri: shopserviceApiEndpointsGetShopMemberGenerated
      MemorySize: 512
      Timeout: 120
      Policies:
      - AWSLambdaBasicExecutionRole
      PackageType: Zip
      Handler: shop-service::shop_service.ApiEndpoints_GetShopMember_Generated::GetShopMember
      Events:
        RootGet:
          Type: HttpApi
          Properties:
            Path: /shops/{shopId}/member/{userId}
            Method: GET
Outputs:
  ApiURL:
    Description: API endpoint URL for Prod environment
    Value:
      Fn::Sub: https://${ServerlessHttpApi}.execute-api.${AWS::Region}.amazonaws.com/
